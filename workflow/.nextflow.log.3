Jul.-24 12:20:42.557 [main] DEBUG nextflow.cli.Launcher - $> nextflow run new_pangenome.nf
Jul.-24 12:20:42.760 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 23.10.1
Jul.-24 12:20:42.782 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; embedded=false; plugins-dir=/home/z5421465/.nextflow/plugins; core-plugins: nf-amazon@2.1.4,nf-azure@1.3.3,nf-cloudcache@0.3.0,nf-codecommit@0.1.5,nf-console@1.0.6,nf-ga4gh@1.1.0,nf-google@1.8.3,nf-tower@1.6.3,nf-wave@1.0.1
Jul.-24 12:20:42.834 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
Jul.-24 12:20:42.835 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
Jul.-24 12:20:42.841 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.4.1 in 'deployment' mode
Jul.-24 12:20:42.854 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
Jul.-24 12:20:42.933 [main] DEBUG nextflow.cli.CmdRun - Applied DSL=2 by global default
Jul.-24 12:20:42.954 [main] INFO  nextflow.cli.CmdRun - Launching `new_pangenome.nf` [sad_linnaeus] DSL2 - revision: b5e8e6ef8d
Jul.-24 12:20:42.955 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[]
Jul.-24 12:20:42.956 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins resolved requirement=[]
Jul.-24 12:20:42.969 [main] DEBUG n.secret.LocalSecretsProvider - Secrets store: /home/z5421465/.nextflow/secrets/store.json
Jul.-24 12:20:42.978 [main] DEBUG nextflow.secret.SecretsLoader - Discovered secrets providers: [nextflow.secret.LocalSecretsProvider@363f0ba0] - activable => nextflow.secret.LocalSecretsProvider@363f0ba0
Jul.-24 12:20:43.056 [main] DEBUG nextflow.Session - Session UUID: b327429f-8aea-41cb-abc6-b515061ae881
Jul.-24 12:20:43.056 [main] DEBUG nextflow.Session - Run name: sad_linnaeus
Jul.-24 12:20:43.058 [main] DEBUG nextflow.Session - Executor pool size: 4
Jul.-24 12:20:43.067 [main] DEBUG nextflow.file.FilePorter - File porter settings maxRetries=3; maxTransfers=50; pollTimeout=null
Jul.-24 12:20:43.073 [main] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'FileTransfer' minSize=10; maxSize=12; workQueue=LinkedBlockingQueue[10000]; allowCoreThreadTimeout=false
Jul.-24 12:20:43.110 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 23.10.1 build 5891
  Created: 12-01-2024 22:01 UTC (13-01-2024 09:01 AEDT)
  System: Linux 4.18.0-513.24.1.el8_9.x86_64
  Runtime: Groovy 3.0.19 on OpenJDK 64-Bit Server VM 11.0.17+8
  Encoding: UTF-8 (UTF-8)
  Process: 1999500@katana2 [10.197.42.130]
  CPUs: 4 - Mem: 31.4 GB (1.8 GB) - Swap: 2 GB (1.5 GB)
Jul.-24 12:20:43.153 [main] DEBUG nextflow.Session - Work-dir: /srv/scratch/canpang/pangenome_pipeline/workflow/work [nfs]
Jul.-24 12:20:43.154 [main] DEBUG nextflow.Session - Script base path does not exist or is not a directory: /srv/scratch/canpang/pangenome_pipeline/workflow/bin
Jul.-24 12:20:43.165 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[]
Jul.-24 12:20:43.175 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Jul.-24 12:20:43.199 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
Jul.-24 12:20:43.211 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 5; maxThreads: 1000
Jul.-24 12:20:43.490 [main] DEBUG nextflow.Session - Session start
Jul.-24 12:20:44.027 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Jul.-24 12:20:44.075 [main] INFO  nextflow.Nextflow - 
============================================================================================================================================
██████╗  █████╗ ███╗   ██╗ ██████╗ ███████╗███╗   ██╗ ██████╗ ███╗   ███╗███████╗    ██████╗ ██╗██████╗ ███████╗██╗     ██╗███╗   ██╗███████╗
██╔══██╗██╔══██╗████╗  ██║██╔════╝ ██╔════╝████╗  ██║██╔═══██╗████╗ ████║██╔════╝    ██╔══██╗██║██╔══██╗██╔════╝██║     ██║████╗  ██║██╔════╝
██████╔╝███████║██╔██╗ ██║██║  ███╗█████╗  ██╔██╗ ██║██║   ██║██╔████╔██║█████╗      ██████╔╝██║██████╔╝█████╗  ██║     ██║██╔██╗ ██║█████╗  
██╔═══╝ ██╔══██║██║╚██╗██║██║   ██║██╔══╝  ██║╚██╗██║██║   ██║██║╚██╔╝██║██╔══╝      ██╔═══╝ ██║██╔═══╝ ██╔══╝  ██║     ██║██║╚██╗██║██╔══╝  
██║     ██║  ██║██║ ╚████║╚██████╔╝███████╗██║ ╚████║╚██████╔╝██║ ╚═╝ ██║███████╗    ██║     ██║██║     ███████╗███████╗██║██║ ╚████║███████╗
╚═╝     ╚═╝  ╚═╝╚═╝  ╚═══╝ ╚═════╝ ╚══════╝╚═╝  ╚═══╝ ╚═════╝ ╚═╝     ╚═╝╚══════╝    ╚═╝     ╚═╝╚═╝     ╚══════╝╚══════╝╚═╝╚═╝  ╚═══╝╚══════╝                      
=============================================================================================================================================

This pipeline allows you to create your own pangenome and then align the sequences.
The pipeline runs in the following procedure:
    1. Take in a fastq file of the users chosing.
    2. Pass the fastq file into FASTQC to produce a HTML report about the fastq alignment.
    3. Using the fastq file, the pipelines passes it through vg autoindex to prepare graph creation index files.
    4. Using the outputted indexing files, the pipeline passes these through vg giraffe to produce a graph (.gam file).
    5. Finally, the graph file is passed through vg stats to check the graph alignment is correct.

Input:
    fastq: ../mock_data.fq

Output:
    Output folders - All results will be in /results 
        a) FASTQC output folder: '/results/{fastq_filename}_fastqc'
        b) Autoindex output folder: '/results/autoindex_results'
        c) Graph file folder: '/results/graph_results'

Jul.-24 12:20:44.330 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Jul.-24 12:20:44.330 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jul.-24 12:20:44.335 [main] DEBUG nextflow.executor.Executor - [warm up] executor > local
Jul.-24 12:20:44.340 [main] DEBUG n.processor.LocalPollingMonitor - Creating local task monitor for executor 'local' > cpus=4; memory=31.4 GB; capacity=4; pollInterval=100ms; dumpInterval=5m
Jul.-24 12:20:44.343 [main] DEBUG n.processor.TaskPollingMonitor - >>> barrier register (monitor: local)
Jul.-24 12:20:44.443 [main] DEBUG nextflow.Session - Workflow process names [dsl2]: FASTQC, VGAUTOINDEX
Jul.-24 12:20:44.444 [main] DEBUG nextflow.Session - Igniting dataflow network (2)
Jul.-24 12:20:44.452 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > FASTQC
Jul.-24 12:20:44.454 [main] DEBUG nextflow.script.ScriptRunner - Parsed script files:
  Script_292329f17aa9d71d: /srv/scratch/canpang/pangenome_pipeline/workflow/new_pangenome.nf
  Script_77da6b1bfe100307: /srv/scratch/canpang/pangenome_pipeline/workflow/../modules/fastqc/main.nf
  Script_87ba16b3ff08534e: /srv/scratch/canpang/pangenome_pipeline/workflow/../modules/autoindex/main.nf
Jul.-24 12:20:44.454 [main] DEBUG nextflow.script.ScriptRunner - > Awaiting termination 
Jul.-24 12:20:44.454 [main] DEBUG nextflow.Session - Session await
Jul.-24 12:20:44.726 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Jul.-24 12:20:44.730 [Task submitter] INFO  nextflow.Session - [c5/0da95b] Submitted process > FASTQC (1)
Jul.-24 12:20:47.536 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 1; name: FASTQC (1); status: COMPLETED; exit: 0; error: -; workDir: /srv/scratch/canpang/pangenome_pipeline/workflow/work/c5/0da95b2f333346b04ba3ca659054e4]
Jul.-24 12:20:47.554 [main] DEBUG nextflow.Session - Session await > all processes finished
Jul.-24 12:20:47.573 [Task monitor] DEBUG n.processor.TaskPollingMonitor - <<< barrier arrives (monitor: local) - terminating tasks monitor poll loop
Jul.-24 12:20:47.575 [main] DEBUG nextflow.Session - Session await > all barriers passed
Jul.-24 12:20:47.584 [main] DEBUG n.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=1; failedCount=0; ignoredCount=0; cachedCount=0; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=0; succeedDuration=2.8s; failedDuration=0ms; cachedDuration=0ms;loadCpus=0; loadMemory=0; peakRunning=1; peakCpus=1; peakMemory=0; ]
Jul.-24 12:20:47.796 [main] DEBUG nextflow.cache.CacheDB - Closing CacheDB done
Jul.-24 12:20:47.831 [main] DEBUG nextflow.util.ThreadPoolManager - Thread pool 'FileTransfer' shutdown completed (hard=false)
Jul.-24 12:20:47.834 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
