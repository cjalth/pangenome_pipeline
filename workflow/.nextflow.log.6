Jul.-24 12:15:47.184 [main] DEBUG nextflow.cli.Launcher - $> nextflow run new_pangenome.nf
Jul.-24 12:15:47.405 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 23.10.1
Jul.-24 12:15:47.433 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; embedded=false; plugins-dir=/home/z5421465/.nextflow/plugins; core-plugins: nf-amazon@2.1.4,nf-azure@1.3.3,nf-cloudcache@0.3.0,nf-codecommit@0.1.5,nf-console@1.0.6,nf-ga4gh@1.1.0,nf-google@1.8.3,nf-tower@1.6.3,nf-wave@1.0.1
Jul.-24 12:15:47.478 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
Jul.-24 12:15:47.480 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
Jul.-24 12:15:47.483 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.4.1 in 'deployment' mode
Jul.-24 12:15:47.499 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
Jul.-24 12:15:47.594 [main] DEBUG nextflow.cli.CmdRun - Applied DSL=2 by global default
Jul.-24 12:15:47.615 [main] INFO  nextflow.cli.CmdRun - Launching `new_pangenome.nf` [wise_goldstine] DSL2 - revision: b5e8e6ef8d
Jul.-24 12:15:47.616 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[]
Jul.-24 12:15:47.616 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins resolved requirement=[]
Jul.-24 12:15:47.627 [main] DEBUG n.secret.LocalSecretsProvider - Secrets store: /home/z5421465/.nextflow/secrets/store.json
Jul.-24 12:15:47.634 [main] DEBUG nextflow.secret.SecretsLoader - Discovered secrets providers: [nextflow.secret.LocalSecretsProvider@363f0ba0] - activable => nextflow.secret.LocalSecretsProvider@363f0ba0
Jul.-24 12:15:47.710 [main] DEBUG nextflow.Session - Session UUID: cf08eef3-3f3a-4a47-ae12-25da875da56e
Jul.-24 12:15:47.710 [main] DEBUG nextflow.Session - Run name: wise_goldstine
Jul.-24 12:15:47.712 [main] DEBUG nextflow.Session - Executor pool size: 4
Jul.-24 12:15:47.720 [main] DEBUG nextflow.file.FilePorter - File porter settings maxRetries=3; maxTransfers=50; pollTimeout=null
Jul.-24 12:15:47.725 [main] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'FileTransfer' minSize=10; maxSize=12; workQueue=LinkedBlockingQueue[10000]; allowCoreThreadTimeout=false
Jul.-24 12:15:47.769 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 23.10.1 build 5891
  Created: 12-01-2024 22:01 UTC (13-01-2024 09:01 AEDT)
  System: Linux 4.18.0-513.24.1.el8_9.x86_64
  Runtime: Groovy 3.0.19 on OpenJDK 64-Bit Server VM 11.0.17+8
  Encoding: UTF-8 (UTF-8)
  Process: 1998015@katana2 [10.197.42.130]
  CPUs: 4 - Mem: 31.4 GB (1.8 GB) - Swap: 2 GB (1.5 GB)
Jul.-24 12:15:47.811 [main] DEBUG nextflow.Session - Work-dir: /srv/scratch/canpang/pangenome_pipeline/workflow/work [nfs]
Jul.-24 12:15:47.812 [main] DEBUG nextflow.Session - Script base path does not exist or is not a directory: /srv/scratch/canpang/pangenome_pipeline/workflow/bin
Jul.-24 12:15:47.822 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[]
Jul.-24 12:15:47.833 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Jul.-24 12:15:47.857 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
Jul.-24 12:15:47.869 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 5; maxThreads: 1000
Jul.-24 12:15:48.137 [main] DEBUG nextflow.Session - Session start
Jul.-24 12:15:48.679 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Jul.-24 12:15:48.725 [main] INFO  nextflow.Nextflow - 
============================================================================================================================================
██████╗  █████╗ ███╗   ██╗ ██████╗ ███████╗███╗   ██╗ ██████╗ ███╗   ███╗███████╗    ██████╗ ██╗██████╗ ███████╗██╗     ██╗███╗   ██╗███████╗
██╔══██╗██╔══██╗████╗  ██║██╔════╝ ██╔════╝████╗  ██║██╔═══██╗████╗ ████║██╔════╝    ██╔══██╗██║██╔══██╗██╔════╝██║     ██║████╗  ██║██╔════╝
██████╔╝███████║██╔██╗ ██║██║  ███╗█████╗  ██╔██╗ ██║██║   ██║██╔████╔██║█████╗      ██████╔╝██║██████╔╝█████╗  ██║     ██║██╔██╗ ██║█████╗  
██╔═══╝ ██╔══██║██║╚██╗██║██║   ██║██╔══╝  ██║╚██╗██║██║   ██║██║╚██╔╝██║██╔══╝      ██╔═══╝ ██║██╔═══╝ ██╔══╝  ██║     ██║██║╚██╗██║██╔══╝  
██║     ██║  ██║██║ ╚████║╚██████╔╝███████╗██║ ╚████║╚██████╔╝██║ ╚═╝ ██║███████╗    ██║     ██║██║     ███████╗███████╗██║██║ ╚████║███████╗
╚═╝     ╚═╝  ╚═╝╚═╝  ╚═══╝ ╚═════╝ ╚══════╝╚═╝  ╚═══╝ ╚═════╝ ╚═╝     ╚═╝╚══════╝    ╚═╝     ╚═╝╚═╝     ╚══════╝╚══════╝╚═╝╚═╝  ╚═══╝╚══════╝                      
=============================================================================================================================================

This pipeline allows you to create your own pangenome and then align the sequences.
The pipeline runs in the following procedure:
    1. Take in a fastq file of the users chosing.
    2. Pass the fastq file into FASTQC to produce a HTML report about the fastq alignment.
    3. Using the fastq file, the pipelines passes it through vg autoindex to prepare graph creation index files.
    4. Using the outputted indexing files, the pipeline passes these through vg giraffe to produce a graph (.gam file).
    5. Finally, the graph file is passed through vg stats to check the graph alignment is correct.

Input:
    fastq: ../mock_data.fq

Output:
    Output folders - All results will be in /results 
        a) FASTQC output folder: '/results/{fastq_filename}_fastqc'
        b) Autoindex output folder: '/results/autoindex_results'
        c) Graph file folder: '/results/graph_results'

Jul.-24 12:15:48.773 [main] DEBUG nextflow.script.ScriptRunner - Parsed script files:
  Script_292329f17aa9d71d: /srv/scratch/canpang/pangenome_pipeline/workflow/new_pangenome.nf
Jul.-24 12:15:48.786 [main] ERROR nextflow.cli.Launcher - Module compilation error
- file : /srv/scratch/canpang/pangenome_pipeline/workflow/../modules/fastqc/main.nf
- cause: token recognition error at: '(' @ line 28, column 19.
       summary_file=$(find /srv/scratch/canpang/pangenome_pipeline/results -name 'summary.txt')
                     ^

1 error

nextflow.exception.ScriptCompilationException: Module compilation error
- file : /srv/scratch/canpang/pangenome_pipeline/workflow/../modules/fastqc/main.nf
- cause: token recognition error at: '(' @ line 28, column 19.
       summary_file=$(find /srv/scratch/canpang/pangenome_pipeline/results -name 'summary.txt')
                     ^

1 error

	at nextflow.script.ScriptParser.parse0(ScriptParser.groovy:196)
	at nextflow.script.ScriptParser.parse(ScriptParser.groovy:206)
	at nextflow.script.ScriptParser.runScript(ScriptParser.groovy:221)
	at nextflow.script.IncludeDef.memoizedMethodPriv$loadModule0PathMapSession(IncludeDef.groovy:151)
	at nextflow.script.IncludeDef.access$0(IncludeDef.groovy)
	at nextflow.script.IncludeDef$__clinit__closure2.doCall(IncludeDef.groovy)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)
	at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:274)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1030)
	at groovy.lang.Closure.call(Closure.java:427)
	at org.codehaus.groovy.runtime.memoize.Memoize$MemoizeFunction.lambda$call$0(Memoize.java:137)
	at org.codehaus.groovy.runtime.memoize.ConcurrentCommonCache.getAndPut(ConcurrentCommonCache.java:137)
	at org.codehaus.groovy.runtime.memoize.ConcurrentCommonCache.getAndPut(ConcurrentCommonCache.java:113)
	at org.codehaus.groovy.runtime.memoize.Memoize$MemoizeFunction.call(Memoize.java:136)
	at nextflow.script.IncludeDef.loadModule0(IncludeDef.groovy)
	at nextflow.script.IncludeDef.load0(IncludeDef.groovy:123)
	at nextflow.script.IncludeDef$load0$1.call(Unknown Source)
	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:139)
	at Script_292329f17aa9d71d.runScript(Script_292329f17aa9d71d:51)
	at nextflow.script.BaseScript.run0(BaseScript.groovy:144)
	at nextflow.script.BaseScript.run(BaseScript.groovy:192)
	at nextflow.script.ScriptParser.runScript(ScriptParser.groovy:236)
	at nextflow.script.ScriptRunner.run(ScriptRunner.groovy:242)
	at nextflow.script.ScriptRunner.execute(ScriptRunner.groovy:137)
	at nextflow.cli.CmdRun.run(CmdRun.groovy:372)
	at nextflow.cli.Launcher.run(Launcher.groovy:500)
	at nextflow.cli.Launcher.main(Launcher.groovy:672)
Caused by: org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:
Script_f3b78038df496369: 28: token recognition error at: '(' @ line 28, column 19.
       summary_file=$(find /srv/scratch/canpang/pangenome_pipeline/results -name 'summary.txt')
                     ^

1 error

	at org.codehaus.groovy.control.ErrorCollector.failIfErrors(ErrorCollector.java:292)
	at org.codehaus.groovy.control.ErrorCollector.addFatalError(ErrorCollector.java:148)
	at org.apache.groovy.parser.antlr4.AstBuilder.collectSyntaxError(AstBuilder.java:4321)
	at org.apache.groovy.parser.antlr4.AstBuilder.access$000(AstBuilder.java:176)
	at org.apache.groovy.parser.antlr4.AstBuilder$1.syntaxError(AstBuilder.java:4332)
	at groovyjarjarantlr4.v4.runtime.ProxyErrorListener.syntaxError(ProxyErrorListener.java:44)
	at groovyjarjarantlr4.v4.runtime.Lexer.notifyListeners(Lexer.java:381)
	at groovyjarjarantlr4.v4.runtime.Lexer.nextToken(Lexer.java:145)
	at groovyjarjarantlr4.v4.runtime.BufferedTokenStream.fetch(BufferedTokenStream.java:170)
	at groovyjarjarantlr4.v4.runtime.BufferedTokenStream.sync(BufferedTokenStream.java:153)
	at groovyjarjarantlr4.v4.runtime.BufferedTokenStream.consume(BufferedTokenStream.java:137)
	at groovyjarjarantlr4.v4.runtime.atn.ParserATNSimulator.execDFA(ParserATNSimulator.java:560)
	at groovyjarjarantlr4.v4.runtime.atn.ParserATNSimulator.adaptivePredict(ParserATNSimulator.java:409)
	at groovyjarjarantlr4.v4.runtime.atn.ParserATNSimulator.adaptivePredict(ParserATNSimulator.java:357)
	at org.apache.groovy.parser.antlr4.GroovyParser.commandExpression(GroovyParser.java:9302)
	at org.apache.groovy.parser.antlr4.GroovyParser.statementExpression(GroovyParser.java:8067)
	at org.apache.groovy.parser.antlr4.GroovyParser.statement(GroovyParser.java:6915)
	at org.apache.groovy.parser.antlr4.GroovyParser.scriptStatement(GroovyParser.java:514)
	at org.apache.groovy.parser.antlr4.GroovyParser.scriptStatements(GroovyParser.java:421)
	at org.apache.groovy.parser.antlr4.GroovyParser.compilationUnit(GroovyParser.java:357)
	at org.apache.groovy.parser.antlr4.AstBuilder.buildCST(AstBuilder.java:250)
	at org.apache.groovy.parser.antlr4.AstBuilder.buildCST(AstBuilder.java:228)
	at org.apache.groovy.parser.antlr4.AstBuilder.buildAST(AstBuilder.java:269)
	at org.apache.groovy.parser.antlr4.Antlr4ParserPlugin.buildAST(Antlr4ParserPlugin.java:58)
	at org.codehaus.groovy.control.SourceUnit.buildAST(SourceUnit.java:256)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.codehaus.groovy.control.CompilationUnit.buildASTs(CompilationUnit.java:667)
	at org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:633)
	at groovy.lang.GroovyClassLoader.doParseClass(GroovyClassLoader.java:389)
	at groovy.lang.GroovyClassLoader.lambda$parseClass$3(GroovyClassLoader.java:332)
	at org.codehaus.groovy.runtime.memoize.StampedCommonCache.compute(StampedCommonCache.java:163)
	at org.codehaus.groovy.runtime.memoize.StampedCommonCache.getAndPut(StampedCommonCache.java:154)
	at groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:330)
	at groovy.lang.GroovyShell.parseClass(GroovyShell.java:526)
	at groovy.lang.GroovyShell.parse(GroovyShell.java:538)
	at groovy.lang.GroovyShell.parse(GroovyShell.java:570)
	at nextflow.script.ScriptParser.parse0(ScriptParser.groovy:175)
	... 33 common frames omitted
