Jul.-24 12:18:37.450 [main] DEBUG nextflow.cli.Launcher - $> nextflow run new_pangenome.nf
Jul.-24 12:18:37.661 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 23.10.1
Jul.-24 12:18:37.682 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; embedded=false; plugins-dir=/home/z5421465/.nextflow/plugins; core-plugins: nf-amazon@2.1.4,nf-azure@1.3.3,nf-cloudcache@0.3.0,nf-codecommit@0.1.5,nf-console@1.0.6,nf-ga4gh@1.1.0,nf-google@1.8.3,nf-tower@1.6.3,nf-wave@1.0.1
Jul.-24 12:18:37.739 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
Jul.-24 12:18:37.741 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
Jul.-24 12:18:37.746 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.4.1 in 'deployment' mode
Jul.-24 12:18:37.759 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
Jul.-24 12:18:37.838 [main] DEBUG nextflow.cli.CmdRun - Applied DSL=2 by global default
Jul.-24 12:18:37.859 [main] INFO  nextflow.cli.CmdRun - Launching `new_pangenome.nf` [disturbed_heisenberg] DSL2 - revision: b5e8e6ef8d
Jul.-24 12:18:37.860 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[]
Jul.-24 12:18:37.861 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins resolved requirement=[]
Jul.-24 12:18:37.873 [main] DEBUG n.secret.LocalSecretsProvider - Secrets store: /home/z5421465/.nextflow/secrets/store.json
Jul.-24 12:18:37.881 [main] DEBUG nextflow.secret.SecretsLoader - Discovered secrets providers: [nextflow.secret.LocalSecretsProvider@363f0ba0] - activable => nextflow.secret.LocalSecretsProvider@363f0ba0
Jul.-24 12:18:37.956 [main] DEBUG nextflow.Session - Session UUID: 855e9632-8b6e-4e30-90a9-73add456ea4b
Jul.-24 12:18:37.956 [main] DEBUG nextflow.Session - Run name: disturbed_heisenberg
Jul.-24 12:18:37.960 [main] DEBUG nextflow.Session - Executor pool size: 4
Jul.-24 12:18:37.969 [main] DEBUG nextflow.file.FilePorter - File porter settings maxRetries=3; maxTransfers=50; pollTimeout=null
Jul.-24 12:18:37.974 [main] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'FileTransfer' minSize=10; maxSize=12; workQueue=LinkedBlockingQueue[10000]; allowCoreThreadTimeout=false
Jul.-24 12:18:38.013 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 23.10.1 build 5891
  Created: 12-01-2024 22:01 UTC (13-01-2024 09:01 AEDT)
  System: Linux 4.18.0-513.24.1.el8_9.x86_64
  Runtime: Groovy 3.0.19 on OpenJDK 64-Bit Server VM 11.0.17+8
  Encoding: UTF-8 (UTF-8)
  Process: 1999215@katana2 [10.197.42.130]
  CPUs: 4 - Mem: 31.4 GB (1.6 GB) - Swap: 2 GB (1.5 GB)
Jul.-24 12:18:38.062 [main] DEBUG nextflow.Session - Work-dir: /srv/scratch/canpang/pangenome_pipeline/workflow/work [nfs]
Jul.-24 12:18:38.063 [main] DEBUG nextflow.Session - Script base path does not exist or is not a directory: /srv/scratch/canpang/pangenome_pipeline/workflow/bin
Jul.-24 12:18:38.074 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[]
Jul.-24 12:18:38.084 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Jul.-24 12:18:38.110 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
Jul.-24 12:18:38.124 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 5; maxThreads: 1000
Jul.-24 12:18:38.450 [main] DEBUG nextflow.Session - Session start
Jul.-24 12:18:39.009 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Jul.-24 12:18:39.052 [main] INFO  nextflow.Nextflow - 
============================================================================================================================================
██████╗  █████╗ ███╗   ██╗ ██████╗ ███████╗███╗   ██╗ ██████╗ ███╗   ███╗███████╗    ██████╗ ██╗██████╗ ███████╗██╗     ██╗███╗   ██╗███████╗
██╔══██╗██╔══██╗████╗  ██║██╔════╝ ██╔════╝████╗  ██║██╔═══██╗████╗ ████║██╔════╝    ██╔══██╗██║██╔══██╗██╔════╝██║     ██║████╗  ██║██╔════╝
██████╔╝███████║██╔██╗ ██║██║  ███╗█████╗  ██╔██╗ ██║██║   ██║██╔████╔██║█████╗      ██████╔╝██║██████╔╝█████╗  ██║     ██║██╔██╗ ██║█████╗  
██╔═══╝ ██╔══██║██║╚██╗██║██║   ██║██╔══╝  ██║╚██╗██║██║   ██║██║╚██╔╝██║██╔══╝      ██╔═══╝ ██║██╔═══╝ ██╔══╝  ██║     ██║██║╚██╗██║██╔══╝  
██║     ██║  ██║██║ ╚████║╚██████╔╝███████╗██║ ╚████║╚██████╔╝██║ ╚═╝ ██║███████╗    ██║     ██║██║     ███████╗███████╗██║██║ ╚████║███████╗
╚═╝     ╚═╝  ╚═╝╚═╝  ╚═══╝ ╚═════╝ ╚══════╝╚═╝  ╚═══╝ ╚═════╝ ╚═╝     ╚═╝╚══════╝    ╚═╝     ╚═╝╚═╝     ╚══════╝╚══════╝╚═╝╚═╝  ╚═══╝╚══════╝                      
=============================================================================================================================================

This pipeline allows you to create your own pangenome and then align the sequences.
The pipeline runs in the following procedure:
    1. Take in a fastq file of the users chosing.
    2. Pass the fastq file into FASTQC to produce a HTML report about the fastq alignment.
    3. Using the fastq file, the pipelines passes it through vg autoindex to prepare graph creation index files.
    4. Using the outputted indexing files, the pipeline passes these through vg giraffe to produce a graph (.gam file).
    5. Finally, the graph file is passed through vg stats to check the graph alignment is correct.

Input:
    fastq: ../mock_data.fq

Output:
    Output folders - All results will be in /results 
        a) FASTQC output folder: '/results/{fastq_filename}_fastqc'
        b) Autoindex output folder: '/results/autoindex_results'
        c) Graph file folder: '/results/graph_results'

Jul.-24 12:18:39.304 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Jul.-24 12:18:39.305 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Jul.-24 12:18:39.313 [main] DEBUG nextflow.executor.Executor - [warm up] executor > local
Jul.-24 12:18:39.318 [main] DEBUG n.processor.LocalPollingMonitor - Creating local task monitor for executor 'local' > cpus=4; memory=31.4 GB; capacity=4; pollInterval=100ms; dumpInterval=5m
Jul.-24 12:18:39.321 [main] DEBUG n.processor.TaskPollingMonitor - >>> barrier register (monitor: local)
Jul.-24 12:18:39.421 [main] DEBUG nextflow.Session - Workflow process names [dsl2]: FASTQC, VGAUTOINDEX
Jul.-24 12:18:39.422 [main] DEBUG nextflow.Session - Igniting dataflow network (2)
Jul.-24 12:18:39.431 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > FASTQC
Jul.-24 12:18:39.432 [main] DEBUG nextflow.script.ScriptRunner - Parsed script files:
  Script_8543d15127ae3a16: /srv/scratch/canpang/pangenome_pipeline/workflow/../modules/fastqc/main.nf
  Script_292329f17aa9d71d: /srv/scratch/canpang/pangenome_pipeline/workflow/new_pangenome.nf
  Script_87ba16b3ff08534e: /srv/scratch/canpang/pangenome_pipeline/workflow/../modules/autoindex/main.nf
Jul.-24 12:18:39.433 [main] DEBUG nextflow.script.ScriptRunner - > Awaiting termination 
Jul.-24 12:18:39.436 [main] DEBUG nextflow.Session - Session await
Jul.-24 12:18:39.653 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Jul.-24 12:18:39.656 [Task submitter] INFO  nextflow.Session - [0d/016066] Submitted process > FASTQC (1)
Jul.-24 12:18:42.522 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 1; name: FASTQC (1); status: COMPLETED; exit: 1; error: -; workDir: /srv/scratch/canpang/pangenome_pipeline/workflow/work/0d/016066c360e03d3f275d15f4848117]
Jul.-24 12:18:42.527 [Task monitor] DEBUG nextflow.processor.TaskProcessor - Handling unexpected condition for
  task: name=FASTQC (1); work-dir=/srv/scratch/canpang/pangenome_pipeline/workflow/work/0d/016066c360e03d3f275d15f4848117
  error [nextflow.exception.ProcessFailedException]: Process `FASTQC (1)` terminated with an error exit status (1)
Jul.-24 12:18:42.542 [Task monitor] ERROR nextflow.processor.TaskProcessor - Error executing process > 'FASTQC (1)'

Caused by:
  Process `FASTQC (1)` terminated with an error exit status (1)

Command executed:

  echo "Starting FASTQC for file: mock_data.fq"
  
  mkdir -p /srv/scratch/canpang/pangenome_pipeline/results
  find /srv/scratch/canpang/pangenome_pipeline/results/ -type d -name '*_fastqc' -exec rm -rf {} +
  
  fastqc -o /srv/scratch/canpang/pangenome_pipeline/results mock_data.fq
  unzip -d /srv/scratch/canpang/pangenome_pipeline/results /srv/scratch/canpang/pangenome_pipeline/results/*.zip
  
  rm /srv/scratch/canpang/pangenome_pipeline/results/*.zip
  rm /srv/scratch/canpang/pangenome_pipeline/results/*.html 
  
  cat /srv/scratch/canpang/pangenome_pipeline/results/{mock_data.fq}_fastqc/summary.txt

Command exit status:
  1

Command output:
  Starting FASTQC for file: mock_data.fq
  Analysis complete for mock_data.fq
  Archive:  /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc.zip
     creating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/
     creating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/Icons/
     creating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/Images/
    inflating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/Icons/fastqc_icon.png  
    inflating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/Icons/warning.png  
    inflating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/Icons/error.png  
    inflating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/Icons/tick.png  
    inflating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/summary.txt  
    inflating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/Images/per_base_quality.png  
    inflating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/Images/per_sequence_quality.png  
    inflating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/Images/per_base_sequence_content.png  
    inflating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/Images/per_sequence_gc_content.png  
    inflating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/Images/per_base_n_content.png  
    inflating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/Images/sequence_length_distribution.png  
    inflating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/Images/duplication_levels.png  
    inflating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/Images/adapter_content.png  
    inflating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/fastqc_report.html  
    inflating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/fastqc_data.txt  
    inflating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/fastqc.fo  

Command error:
  Starting FASTQC for file: mock_data.fq
  Started analysis of mock_data.fq
  Analysis complete for mock_data.fq
  Archive:  /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc.zip
     creating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/
     creating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/Icons/
     creating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/Images/
    inflating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/Icons/fastqc_icon.png  
    inflating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/Icons/warning.png  
    inflating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/Icons/error.png  
    inflating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/Icons/tick.png  
    inflating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/summary.txt  
    inflating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/Images/per_base_quality.png  
    inflating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/Images/per_sequence_quality.png  
    inflating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/Images/per_base_sequence_content.png  
    inflating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/Images/per_sequence_gc_content.png  
    inflating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/Images/per_base_n_content.png  
    inflating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/Images/sequence_length_distribution.png  
    inflating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/Images/duplication_levels.png  
    inflating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/Images/adapter_content.png  
    inflating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/fastqc_report.html  
    inflating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/fastqc_data.txt  
    inflating: /srv/scratch/canpang/pangenome_pipeline/results/mock_data_fastqc/fastqc.fo  
  cat: /srv/scratch/canpang/pangenome_pipeline/results/{mock_data.fq}_fastqc/summary.txt: No such file or directory

Work dir:
  /srv/scratch/canpang/pangenome_pipeline/workflow/work/0d/016066c360e03d3f275d15f4848117

Tip: you can try to figure out what's wrong by changing to the process work dir and showing the script file named `.command.sh`
Jul.-24 12:18:42.548 [main] DEBUG nextflow.Session - Session await > all processes finished
Jul.-24 12:18:42.549 [Task monitor] DEBUG nextflow.Session - Session aborted -- Cause: Process `FASTQC (1)` terminated with an error exit status (1)
Jul.-24 12:18:42.566 [main] DEBUG nextflow.Session - Session await > all barriers passed
Jul.-24 12:18:42.567 [Task monitor] DEBUG n.processor.TaskPollingMonitor - <<< barrier arrives (monitor: local) - terminating tasks monitor poll loop
Jul.-24 12:18:42.575 [main] DEBUG n.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=0; failedCount=1; ignoredCount=0; cachedCount=0; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=0; succeedDuration=0ms; failedDuration=2.8s; cachedDuration=0ms;loadCpus=0; loadMemory=0; peakRunning=1; peakCpus=1; peakMemory=0; ]
Jul.-24 12:18:42.795 [main] DEBUG nextflow.cache.CacheDB - Closing CacheDB done
Jul.-24 12:18:42.834 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
